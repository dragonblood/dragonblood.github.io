<!DOCTYPE html>
<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
        <link href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />

    </head>
    <body>
        <h1>Candidates Data</h1>
        <div id="wrapper"></div>
    </body>

    <script src="https://cdn.jsdelivr.net/npm/gridjs/dist/gridjs.umd.js"></script>
    <script type="module">
        import {
            Grid,
            html
        } from "https://unpkg.com/gridjs?module";
    </script>

    <script>
    
    //Getting the args from aras
    var args = window.frameElement ? window.frameElement.dialogArguments: window.dialogArguments,
    aras = (args && args.aras) ? args.aras : parent.aras;
    window.dialogArguments = args;

    //fetching the result
    var result = args.result.dom.all[2].innerHTML;

    //parsing the result to JSON
    var obj = JSON.parse(result);

    const grid = new Grid({

        columns: [{
            id: "name",
            name: "Name"
        }, {
            id: "total_exp",
            name: "Experience"
        }, {
            id: "work_authorization",
            name: "Work Authorization"
        }],

            data: obj.map(function(person) {
                return {
                    name: person.first_name,
                    total_exp: person.total_exp,
                    work_authorization: person.work_authorization,
                };
            }),

    }).render(document.getElementById("wrapper"));

    </script>
</html>
